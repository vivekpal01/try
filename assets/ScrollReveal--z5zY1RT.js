import{e as g,r as p,j as m,m as E}from"./index-C--XThrP.js";const I={some:0,all:1};function v(n,s,{root:r,margin:o,amount:e="some"}={}){const f=g(n),i=new WeakMap,u=a=>{a.forEach(t=>{const l=i.get(t.target);if(t.isIntersecting!==!!l)if(t.isIntersecting){const d=s(t.target,t);typeof d=="function"?i.set(t.target,d):c.unobserve(t.target)}else typeof l=="function"&&(l(t),i.delete(t.target))})},c=new IntersectionObserver(u,{root:r,rootMargin:o,threshold:typeof e=="number"?e:I[e]});return f.forEach(a=>c.observe(a)),()=>c.disconnect()}function w(n,{root:s,margin:r,amount:o,once:e=!1,initial:f=!1}={}){const[i,u]=p.useState(f);return p.useEffect(()=>{if(!n.current||e&&i)return;const c=()=>(u(!0),e?void 0:()=>u(!1)),a={root:s&&s.current||void 0,margin:r,amount:o};return v(n.current,c,a)},[s,n,r,e,o]),i}function x({children:n,delay:s=0,className:r}){const o=p.useRef(null),e=w(o,{once:!0,margin:"-100px"});return m.jsx(E.div,{ref:o,initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6,delay:s,ease:[.4,0,.2,1]},className:r,children:n})}export{x as S};
